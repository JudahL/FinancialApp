@model JLFinancialApp.Models.ViewModels.RecurringAmountFormViewModel

<h2>@Model.Title</h2>

<hr />

<div class="row justify-content-start">
    <div class="col-md-4">
        <div id="failAlert" class="alert alert-danger" role="alert" hidden>
            <strong>Error</strong>
            Something went wrong and the @Model.Type could not be added.
        </div>

        <div id="successAlert" class="alert alert-success" role="alert" hidden>
            <strong>@Model.Type Added!</strong>
            <p id="successAlert-info" class="mb-0">The @Model.Type has been added to your list.</p>
        </div>


        <form id="recurringAmount" data-id="@Model.Id" data-controller="@Model.Controller" data-method="@Model.Method">
            <div class="form-group">
                <label class="control-label">Name</label>
                <input id="name" name="name" data-rule-validname="true" type="text" value="@Model.Name" class="form-control" />
            </div>

            <div class="form-group">
                <label class="control-label">Type</label>
                <select class="form-control" data-rule-validtype="true" id="type" name="type">
                    <option value="0">Select Period Type</option>
                    @foreach (var periodType in Model.PeriodTypes)
                    {
                        var isSelected = periodType.Id == Model.PeriodTypeId;
                        <option value="@periodType.Id" selected="@isSelected">@periodType.Name</option>
                    }
                </select>
            </div>

            <div class="form-group">
                <label class="control-label">Amount</label>
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text">£</span>
                    </div>
                    <input id="amount" name="amount" data-rule-validamount="true" type="text" value="@Model.Amount" class="form-control input-group-input" />
                </div>
            </div>

            <br />
            <button class="btn btn-primary btn-lg">Submit</button>
        </form>
    </div>
</div>

@section scripts
{
    @Scripts.Render("~/bundles/jqueryval")
    @Scripts.Render("~/bundles/subscriptionForm")
}
